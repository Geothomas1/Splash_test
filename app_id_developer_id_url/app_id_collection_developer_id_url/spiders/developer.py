import scrapy
from scrapy_splash import SplashRequest

main_list=[]
script = """
                    function main(splash,args)
                        splash:set_viewport_size(1028, 10000)
                        splash:go(args.url)
                        local scroll_to = splash:jsfunc("window.scrollTo")
                        scroll_to(0, 2900)
                        splash:wait(8)
                        return {
                            html = splash:html()
                        }
                    end
                  """

#url=['https://play.google.com/store/apps/developer?id='+i for i in tag]
class DeveloperSpider(scrapy.Spider):
    name = 'developer'
    allowed_domains = ['x']
    def start_requests(self):
        tag=['Panda+Puzzle+Game+labs', 'divineGames', 'masterkelleen', 'WoW!+Game+LLC.', 'TileBlashmatchinggame', 'Better+days+-+Relaxing+puzzles', 'Crown+Games+Inc.', 'Hyper+Action+Game+Studio', 'ToonWorld', 'Lucky+App+%26+Game', 'blinggame', 'Block+Puzzle+Game+Team', 'DailyGameStudio', 'DoNA', 'Thinkplay', 'Puzzle+Super+Games', 'ESR+LTD:', 'Onibit', 'STARSPRITE', 'JT+Lab', 'Step+Dev+Team', 'CNL+Game', 'Orange+Game', 'happygametime', 'Gamers+Adda', 'Onet+Game', 'Beectory', 'Lisda+Master', '2048+Solitaire+Merge+Cards+Game', 'Grab+Movies', 'Miso+Team', 'TIG+STUDIO', 'United+Studio+Inc.', 'Red+cat+studio-focused+puzzle+game', 'Free+Happy+Games', 'Shooting+Games+-+Button+Inc', 'SUPER+CLASSIC', 'Brilliant+Games+Private+Ltd.', 'MBlore+Games', 'Legend+Dreams', 'BGum', 'Frooty+Studios', 'Lovely+Gaming', 'Win+Win+easygame2020', 'Tnecutet+Game', 'Mentha+X+Games', 'Infinite+Joy+Ltd.', 'co+tuong', 'cloeGames', 'V+Long+Technology,+Inc', 'David.Liu', 'Brain.+Studio', 'nectar+Studio', 'Crazy+Hat', 'Tile+Inc.', 'Red+Cannon', 'bariane', 'Digimad+studio', 'Iway+Game+Studio', 'Fundo+Studio', 'Kaiyi', 'Best+Photo+Apps', 'yeswecan', 'AppRover', 'Wiggling+Potato', 'JXQY+Games', 'American+Football', 'Ghuy+Online', 'Puzzle+Games+Offline', 'ARCFUN', 'Andrey+Spencer', 'Alfred+Maxwell', 'SP+Casual+Games', 'Vaveda+Games+LLC', 'Viktor+Bohush', 'Pingvigames+Ltd', 'Zero+Gravity+Games', 'KP+tech', 'SAI+YUN+Game', 'Zvonk', '%E3%83%8F%E3%83%83%E3%83%94%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%95LLC', 'Vassa+Games', 'Kiwi+Fun+US+Ltd.', 'Synetic+Developer', 'DavisBaron', 'Puzzle+and+Words+Games+for+Best+Friends', 'sidra+hamid', 'New+Solitaire+Studio', 'VarLab,+Inc', 'Games+To+The+Moon', 'Comfun', 'ZMist+Games', 'alix+abercrombie', 'Teen+Patti+Tycoon', 'Thompson+Brenio', 'VNG+ZingPlay+Game+Studios', 'Tubbgames', 'Malenie+Jarvis', 'Junglee+Games', 'Crave+Entertainment', 'yulaku', 'Gilisa+Gunning', '3+Patti+SAGA+-+Indian+3+Patti+Game+by+KeenPro', 'Mahal+Games', '3+Patti+World', 'Gerald+Maenner', 'humanika', 'moolian', 'Game+Loppy+Tech', 'Inlida+Limited', 'Salah+Alwishah', 'Ulka+Games', 'JIYU+INC.', 'TTPoker', 'Jullianremeo', 'SX+Studio', 'Fun+Max+Games', 'Stuart+Andrew+Williams', 'Steel+Monkey', 'Gano.Games', 'Coconut+Game+Entertainment', 'Paisoo+Games', 'Up+Gameking+Group', 'Yotika+Technology', 'Farnaz+Rahimzadeh', '3Patti+Queen', 'HANUG+GAMES', 'TeenPattiClub', 'TechSoulMate', 'Jason%09Bowersox', 'Teenpatti+Online', 'GVICTORY+GAMES', '3Patti+Royal', 'Vasudev+Developers', 'desanbuoraybu', 'XZ+GameGroup', 'Teslatech', 'juhuyu', 'Trevor+++Mann', 'cardpartyclub', 'Julie+++Lescot', 'Andrea+Villa+Vulcan', 'Medivh+Joy', 'CHENGYUNTONG', 'Mykola%09Drofych', 'Jennie+Caven', 'Zhao+dongliang', 'Joon+Multimedia', 'TPKing+Games', 'LIUyoungRiver', 'Davejulliant', 'ALLNITE+DIGITAL', 'Ani+Vasani', 'Loan+Credit+loanloan', 'cantaloupe', 'Good.G', 'caloris+caca', 'Goplal', 'Nakulu', 'raheshrai', 'SHINING+GAMES', 'MudGames', 'V4+Games', 'TP+Galaxy', 'MAXINTSOFTWARE', 'StarYuk+Chance', 'Art+DS+Apps', 'Sharuka', 'Bobbi+English', 'Red+Sparrow+Labs', 'Kagangtuya', 'ArnouSolitary', 'hapy+games', 'Cloudy+Soft', 'Dentoxi+LLC', 'Coolfish+Tech', '9You+Group', 'Harry+riannam', 'Dream+Teenpatti', 'Emmanuel++Thibault', 'Logic+Simplified', 'Lori%09Deike', 'My+Play+Inc.', 'Michael%09Roose', 'James+++Barton', 'happy+3patti', 'Higgs+Games', 'beachparty', 'julitent', 'FIOGONIA+LIMITED', '3+Colors+Interactive', 'heidi', 'Kevin%09Biggers', 'Mad+Devices', 'PB+Softworks', 'Zenith+Games.', 'Zstarpoker', 'Dynamite+Games+Limited', 'Soilapps', 'G+Infotech', '3Patti+King', 'Anand+Chopra', 'Super+Nova+Developers', 'MadrasHOT', 'Red+Game', 'VRK+GAMES', 'WUFUXI', 'Alliansi', 'Z+Level+Apps', 'Pink+Entertainment+24X7', 'Boltd', 'marryria', 'karthik+g', 'moneyheatlh', 'Judy+Wallace', 'Cupid+Compusoft', 'Ravi5298', 'munakua', 'Poker+Golden', 'YuKing+Network', 'zjsoftgame', '8+Bit+Studios', 'Royal+Teen+Patti', 'Mobile+Games+King', 'TapToad+India+Pvt.+Ltd.', 'GameOffirrr', 'Teenpatti+Club', 'Wonga+Studio', 'Taylor430sb+White09db', 'Insert+Coin+Games', 'Piorko', 'ASH+Studios', 'OCEAN+GAMES', 'towin', 'mukashi', 'Parallel+Realities', 'Aurora+Brown', 'Teen+Patti+Titanic+Shark', 'Lede+HONG+KONG+LIMITED', 'Supremacy+Legend', 'superwin', 'Nevv+Look', 'Teen%26Patti', 'Hogotick', 'Online+Rummy+13+Cards+Game+-+Teen+Patti+Gold+Rummy', 'DesarrApps', 'RC4812', 'Super+Cool+Filter+Photo+Frames', 'Socratic+Generation', 'Spraato+Labs+Inc.', 'NerfGame', 'Maxima+Gaming+Ltd', 'Future+Kings+Apps', 'Batz+Charisewescz', 'WSCSolutions', 'Digi10+Soft', 'ecloudlog', 'Seven+Star+Teen+Patti', 'z7apps', 'Avaneesh+Tripathi', 'Compile+Ideas', 'Ripple+Clocks', 'Ferty+App+Store', 'Epoch+Zipper+Studio', 'Apps+Heavens', 'Bhaus+Hub', 'Betmaxxx', 'Naseeb+India+2', 'jumbo+teen+patti', 'GEEK+GAMES', 'Unibyte+Studios', 'Vigourush+games', 'Duga+Game', 'Digital+Pill', 'Ellinia+games', 'DH-Games', 'Persona+Game+Studio', 'AXE+TECHNOLOGY', 'Robot+Circus', 'SVP+Mobile', 'Skill+to+Win', 'icefill', 'Triple+Rocket', 'Event+Horizon+Co', 'Playkot+LTD', 'Grumpy+Games', 'Gamer+Gav', 'Black+Phoenix+Software+LLC', 'TaleSoft+Studio', 'Snowprint+Studios+AB', 'Valrok', 'Letter+3+Games', 'Text+RPG+Adventure+-+Castlehill', 'Boss+Fight+Entertainment', 'shoutry', 'Playmage', 'A2Source', 'Yatta!+Play', 'Fortheking+Gaming', 'Studio+42+-+sci-fi+games', 'Goran+K', 'Ensit+Media', '%D0%94%D0%B5%D0%BD%D0%B8%D1%81+%D0%93%D0%B0%D1%80%D0%B8%D0%BD', 'WWG+STRATEGY+GAMING', 'ZigZaGame+Inc.', 'Offline+Strategy+Games', 'Evil+Villain+Games', 'Magma+Fortress', 'BORGUL+GAMES', 'Studio3.tech', 'Seaease++Games', 'Game+Insight+Classics', 'Ludia+Inc.', 'Winlight+Co.,Ltd.-eko', 'Meiyou+Game', 'BANDAI+NAMCO+Entertainment+Inc.', 'Vespa+Inc.', 'CoolAI', 'WY+Gaming', 'Elex+Wireless', 'Nuverse', '%E3%82%B7%E3%83%95%E3%83%88%E3%82%A2%E3%83%83%E3%83%97%E3%83%8D%E3%83%83%E3%83%88', 'TINYSOFT+-+slots,+slot+machines+%26+casino+games', 'SkyPeople', 'Advenworks', 'Riot+Games,+Inc', 'ohNussy', 'LAXASOFT', 'NeoulEntertainment+Co.,+Ltd', 'Aniplex+Inc.', 'PARADE+game', 'League+of+Geeks', 'PLAYMAROO', 'YOUZU%28SINGAPORE%29PTE.LTD.', 'SEGA+CORPORATION', 'Epic+Action+LLC', 'RideonJapan,Inc.', 'Crunchyroll+Games,+LLC', 'Fantasy+Game+Indie', 'Deca_Games', 'Bluestone+Soft,+Inc', 'Midjiwan+AB', 'BigWayGames', 'Chrono+Games', 'Rhino+Games+Inc.', 'Zero+Touch+group', 'Wonder+People+Co.,Ltd.', 'BBstudio+Inc.', 'PPPOKER', 'zhou+chun+game', 'Minikler+%C3%96%C4%9Freniyor', 'Mobilia+Apps', 'Vasundhara+Game+Studios', 'Alexander+Alexeychuk', 'Rakson+Tech', 'Hira+Studio', 'minkusoft', 'YOU+%26+ME', 'WissApp', 'Special+Tag', 'paghadi+developers', 'CREATIVE+GAME', 'Nicolas+Lehovetzki', 'Krishna+Bezawada', 'Easy+Health', 'Hiegames.com', 'Aakash+Patel4', 'Orodragon', 'DVP+Games', 'bnetgames', 'AppStar+Studio', 'Learning+World', 'Makkajai:+Math+Games+for+1st,+2nd,+3rd,+4th+grade', 'MOUNTAIN+GAME', 'Sean+Burnham', 'Genius+Games', 'Mohammed+Al-Jaro', 'Virterix', 'Pavel+Olegovich', 'Andrey+Solovyev', 'Lucky+Duck+Games', 'FanDuel', 'Pix+Arts', 'KAAL+-+SAMAY', 'KIA+ORA+GAMES+PTY+LIMITED', 'ButterSoft+Games', 'maruar', 'GahijiTech', 'Games+Blast', 'AD2G+Studio', 'NixGame', 'Multiplication+Tables', 'Osdifa', 'Mathemy:+Exciting+Times+Tables+Multiplication', 'ZABS.APPS', 'HiHoy', 'Mobile+Billing+Activities+S.L.', 'Alexey+Korobov', 'Gbury+Apps', 'Shiny+Game+Studio', 'Tuyware', 'Alexey+Subbota', 'Educational+AppTube', 'Cool+Math+Games', 'Tough+Pixels', 'RamkyS+Tech', 'Aleh+Yevik', 'Froggy+Game', 'profamath', 'MBD+Group', 'Clapfoot+Inc.', 'Polaris+Developer', 'App7soft', 'pamperinfotech', 'Benjamin+A.', 'BBASAC+STUDIO', 'R%26S+Games+Studio']
        for i in tag:
            url='https://play.google.com/store/apps/developer?id='+i
            yield SplashRequest(url, self.parse,  endpoint='execute', args={'lua_source': script, 'url': url})
        

    def parse(self, response):
        app_id_list=[]
        app_id=response.css('.b8cIId.ReQCgd.Q9MA7b a::attr(href)').extract() 
        for link in app_id:
            app_id_list.append(link.split('=')[-1])
        for x in app_id_list:
            main_list.append(x)
        #print(main_list)
        temp_list = []
        for i in main_list:
            if i not in temp_list:
                temp_list.append(i)
        print(len(temp_list))
        print(temp_list)  

        
